{% extends "_base.html" %}
{% block title %}Reset your password{% endblock %}

{% block content %}
  <div class="row py-5">
    <div class="col-4 offset-4">
      <h1>Reset your password</h1>
      {% if validlink %}
        <p>Please enter your new password twice:</p>
        <form method="post">
          {% csrf_token %}

          <div class="mb-3">
            <input
              type="password"
              name="new_password1"
              class="form-control bg-light"
              maxlength="254"
              placeholder="New password"
            >
            {% if form.new_password1.errors %}
              <div class="text-danger">
                {{ form.new_password1.errors }}
              </div>
            {% endif %}
          </div>

          <div class="mb-3">
            <input
              type="password"
              name="new_password2"
              class="form-control bg-light"
              maxlength="254"
              placeholder="Confirm new password"
            >
            {% if form.new_password2.errors %}
              <div class="text-danger">
                {{ form.new_password2.errors }}
              </div>
            {% endif %}
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-success text-white">Change my password</button>
          </div>
        </form>
      {% else %}
        <p>The password reset link was invalid, possibly because it has already been used. Please request a new password reset.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
